<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style>
	* {
		margin: 0;
		padding: 0;
		list-style-type: none;
	}
	#wrapper {
		position: relative;
		width: 640px;
		margin: 100px auto;
	}
	.video {
		display: none;
	}
	</style>
</head>
<body>
	<div id="wrapper">
		<img class="video-cover" src="./images/test.png" alt="">
		<video class="video"src="http://www.w3school.com.cn/i/movie.ogg" preload="none" controls width="640px" height="640px"></video>
	</div>
	<script src="/bower_components/zepto/zepto.min.js"></script>
	<script>
		$(function () {
			$('.video-cover').on('click', function(e) {
				$('.video').attr({'preload': 'load'})
			});
			$('.video').on('loadeddata', function(e) {
				$(this).show().get(0).play();
				$('.video-cover').hide();
			});
			$('.video').on('error', function(e) {
				alert('error');
			});
			
			$('.love').on('click', function (e) {
				e.preventDefault();
				var $el = $(this),
					$num = $('.num'),
					num = parseInt($num.text());
				if($el.hasClass('not_love')) {
					$el.text('不赞');
					if (num) {
						$num.text(num + 1 + '人已点赞');
					}
					else {
						$num.text('1人已点赞');
					}
					$el.removeClass('not_love').addClass('already_love');
				}
				else if ($el.hasClass('already_love')) {
					$el.text('赞');
					if (num - 1) {
						$num.text(num - 1 + '人已点赞')
					}
					else {
						$num.text('暂无人觉得赞');
					}
					$el.removeClass('already_love').addClass('not_love');
				}
				else {
					return false;
				}
			});
		})
	</script>
</body>
</html>